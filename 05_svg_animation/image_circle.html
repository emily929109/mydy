<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>image circle</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>

    <style>
      svg {
        opacity: 0;
        animation: fadeIn 1s 1s forwards, fadeInUp 2s forwards;
      }

      #figure1,
      #figure2,
      #figure3 {
        opacity: 0;
      }

      #figure1 {
        animation: fadeIn 1s 1.2s forwards;
      }

      #figure2 {
        animation: fadeIn 0.5s 1.5s forwards;
      }

      #figure3 {
        animation: fadeIn 0.5s 1.8s forwards;
      }

      /* Animation */

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes fadeInUp {
        from {
          transform: translateY(50%);
        }
        to {
          transform: translateY(0);
        }
      }
    </style>
  </head>
  <body>
    <?xml version="1.0" encoding="UTF-8"?>
    <svg
      viewBox="0 0 680 380"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <!-- <defs> -->
      <!-- <path
          id="circle"
          d="M63,150.5a261,105.5 0 1,0 522,0a261,105.5 0 1,0 -522,0"
        /> -->
      <!-- <path
          id="g"
          d="M66 24c-29.017 0-47.987 10.79-36.694 37.014C42.303 91.201 57.535 107 66 107c8.465 0 23.697-15.799 36.695-45.986C113.986 34.79 95.017 24 66 24"
        /> -->
      <!-- <filter id="p" x="-3.1%" y="-3%" width="106.2%" height="106%">
          <feGaussianBlur
            in="SourceAlpha"
            result="shadowBlurInner1"
            stdDeviation="2"
          />
          <feOffset dy="1" in="shadowBlurInner1" result="shadowOffsetInner1" />
          <feComposite
            in="shadowOffsetInner1"
            in2="SourceAlpha"
            k2="-1"
            k3="1"
            operator="arithmetic"
            result="shadowInnerInner1"
          />
          <feColorMatrix
            in="shadowInnerInner1"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.0984205163 0"
          />
        </filter> -->
      <!-- <path
          id="f"
          d="M48.142 49.896c1.713.977 3.733.456 5.016-.211 1.847-.96 3.757-1.952 5.396-1.015.972.556 1.585 1.44 1.773 2.556.482 2.86-1.904 6.783-4.093 9.275-1.667 1.897-3.093 2.757-4.239 3.448-1.11.669-1.78 1.073-2.25 2.132-.673 1.515-.504 2.952-.308 4.616.104.892.213 1.814.212 2.842-.001 3.345-1.039 7.253-2.643 9.956-2.44 4.113-6.246 6.393-11.006 6.595-4.178.177-7.962-.662-12.961-3.522-5.097-2.915-7.99-5.897-9.894-9.553-.48-.92-.846-1.85-1.1-2.786-.894-3.3-.388-6.663 1.513-9.867 1.606-2.707 4.558-5.523 7.52-7.174.912-.508 1.783-.87 2.625-1.22 1.57-.653 2.925-1.217 3.935-2.538.872-1.142.98-3.09 1.104-5.344.086-1.567.184-3.344.566-5.135.423-1.981 1.471-4.129 2.952-6.049 1.457-1.889 3.138-3.316 4.733-4.02 1.803-.795 3.055-.467 3.788-.051 1.368.776 1.972 2.298 1.844 4.654-.097 1.796-.608 3.891-1.058 5.74l-.067.277c-.187.767.56 2.88 1.197 3.288.231.148 4.118 2.349 5.445 3.106z"
        />
        <circle id="a" cx="68.934" cy="68.934" r="68.934" />
        <filter id="n" x="-1.5%" y="-1.5%" width="102.9%" height="102.9%">
          <feGaussianBlur
            in="SourceAlpha"
            result="shadowBlurInner1"
            stdDeviation="1.5"
          />
          <feOffset dy="1" in="shadowBlurInner1" result="shadowOffsetInner1" />
          <feComposite
            in="shadowOffsetInner1"
            in2="SourceAlpha"
            k2="-1"
            k3="1"
            operator="arithmetic"
            result="shadowInnerInner1"
          />
          <feColorMatrix
            in="shadowInnerInner1"
            values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.204342165 0"
          />
        </filter>
        <filter id="m" x="-4.4%" y="-2.9%" width="108.8%" height="111.6%">
          <feOffset dy="2" in="SourceAlpha" result="shadowOffsetOuter1" />
          <feGaussianBlur
            in="shadowOffsetOuter1"
            result="shadowBlurOuter1"
            stdDeviation="1"
          />
          <feColorMatrix
            in="shadowBlurOuter1"
            result="shadowMatrixOuter1"
            values="0 0 0 0 0.128607602 0 0 0 0 0.22839669 0 0 0 0 0.391687925 0 0 0 1 0"
          />
          <feMerge>
            <feMergeNode in="shadowMatrixOuter1" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
        <path
          id="l"
          d="M23.12 23.12c12.769 0 23.12-5.176 23.12-11.56S35.889 0 23.12 0 0 5.176 0 11.56s10.351 11.56 23.12 11.56z"
        />
        <linearGradient id="k" x1="50%" x2="50%" y2="100%">
          <stop stop-color="#67748C" stop-opacity="0" offset="0" />
          <stop stop-color="#67748C" offset="1" />
        </linearGradient>
        <linearGradient id="h" x1="50%" x2="50%" y2="98.986%">
          <stop stop-color="#67748C" stop-opacity="0" offset="0" />
          <stop stop-color="#67748C" offset="1" />
        </linearGradient>
      </defs> -->

      <g transform="translate(0 30)" fill="none" fill-rule="evenodd">
        <!-- <ellipse
          cx="324"
          cy="150.5"
          rx="261"
          ry="105.5"
          stroke="#313D52"
          stroke-dasharray="7,5"
          stroke-linecap="round"
          stroke-width="3"
          id="circle"
        /> -->

        <path
          id="circle"
          d="
        M 324 45
        a 261 105.5 0 1 1 0 211
        a 261 105.5 0 1 1 0 -211
      "
          fill="none"
          stroke="#313D52"
          stroke-dasharray="7,5"
          stroke-linecap="round"
          stroke-width="3"
        />

        <!-- <ellipse
          cx="324"
          cy="144"
          rx="146"
          ry="59"
          fill="#455166"
          fill-opacity=".093"
        /> -->

        <g id="figure1">
          <rect x="8" y="8" width="114" height="114" rx="25" fill="#67748C" />
          <use fill="#2B3F60" xlink:href="#g" />
          <use fill="#000" filter="url(#p)" xlink:href="#g" />
          <g transform="rotate(45 36.808 90.885)">
            <g transform="rotate(-30 36.003 61.254)">
              <use fill="#FFF" xlink:href="#f" />
              <path
                d="M47.636 50.783c-.405-.231-1.035-.59-2.507-1.425l-.007-.004c-1.953-1.11-2.834-1.613-2.975-1.704-1.009-.645-1.929-3.2-1.64-4.39l.067-.277c.087-.353.125-.512.173-.712.177-.734.308-1.305.423-1.857.243-1.169.39-2.142.435-2.984.109-2.006-.346-3.154-1.328-3.71-.707-.402-1.628-.452-2.872.097-1.424.628-2.976 1.946-4.336 3.71-1.392 1.803-2.373 3.813-2.762 5.637-.302 1.412-.413 2.572-.545 4.978-.192 3.475-.397 4.71-1.313 5.908-.994 1.302-1.946 1.86-4.354 2.86-1.245.519-1.805.773-2.52 1.17-2.807 1.565-5.626 4.255-7.138 6.804-1.759 2.963-2.229 6.043-1.406 9.078.235.866.575 1.727 1.02 2.58 1.886 3.622 4.739 6.42 9.495 9.14 4.602 2.632 8.19 3.566 12.411 3.387 4.415-.187 7.907-2.279 10.17-6.095 1.51-2.543 2.5-6.271 2.5-9.435.001-.804-.05-1.41-.205-2.723-.3-2.559-.275-3.653.39-5.15.516-1.162 1.043-1.62 2.656-2.592 1.777-1.071 2.711-1.782 3.999-3.247 2.524-2.873 4.21-6.309 3.853-8.431-.137-.815-.568-1.435-1.273-1.839-.779-.445-1.76-.28-3.394.514-.262.127-.507.252-.932.472l-.092.048c-1.935 1.006-4.16 1.237-5.993.192z"
                stroke="#FFF"
                stroke-width="2.043"
              />
            </g>
            <ellipse
              cx="46.884"
              cy="76.296"
              rx="3.158"
              ry="3.12"
              fill="#2B3F60"
            />
            <path
              d="M35.112 21.17h5.213c.376 0 .681.304.681.68v37.637a3.288 3.288 0 0 1-6.575 0V21.85c0-.376.305-.68.681-.68zM41.418 19.09h-8.15a1.362 1.362 0 0 1-1.312-1.728l4.452-16c.164-.59.701-.998 1.314-.997l3.234.003c.737 0 1.34.587 1.36 1.323l.463 15.997a1.362 1.362 0 0 1-1.361 1.401z"
              fill="#FFF"
            />
            <path
              d="M35.584 91.976c-.391 4.976.662 8.705 3.184 11.197 5.402 5.337 15.666 2.258 26.047-6.902 7.246-6.394 11.848-13.377 13.265-19.415 1.385-5.902-.626-10.406-5.286-10.387l.013 3.12c2.133-.008 3.185 2.349 2.196 6.562-1.258 5.36-5.503 11.802-12.292 17.793-9.28 8.19-17.91 10.778-21.71 7.022-1.778-1.756-2.568-4.93-2.242-9.078l-3.175.088z"
              fill="#FFF"
              fill-rule="nonzero"
            />
          </g>
          <rect
            x="8"
            y="8"
            width="114"
            height="114"
            rx="25"
            fill="#131D2F"
            fill-opacity=".4"
          />
        </g>

        <!-- <g id="figure2">
          <rect width="167" height="167" rx="38" fill="#67748C" />
          <g transform="translate(14.65 14.65)">
            <mask id="b" fill="#fff">
              <use xlink:href="#a" />
            </mask>
            <use fill="#2B3F60" xlink:href="#a" />
            <use fill="#000" filter="url(#n)" xlink:href="#a" />
            <g filter="url(#m)" mask="url(#b)">
              <g transform="translate(25.85 47.392)">
                <rect width="19.669" height="68.934" rx="1" fill="#FFF" />
                <rect
                  x="23.602"
                  width="19.669"
                  height="68.934"
                  rx="1"
                  fill="#FFF"
                />
                <rect
                  x="47.205"
                  width="19.669"
                  height="68.934"
                  rx="1"
                  fill="#FFF"
                />
                <rect
                  x="70.807"
                  width="19.669"
                  height="68.934"
                  rx="1"
                  fill="#FFF"
                />
                <path
                  d="M15.735 0h11.801v43.604a1 1 0 0 1-1 1h-9.801a1 1 0 0 1-1-1V0zM39.337 0H51.14v43.604a1 1 0 0 1-1 1h-9.802a1 1 0 0 1-1-1V0zM62.94 0H74.74v43.604a1 1 0 0 1-1 1H63.94a1 1 0 0 1-1-1V0z"
                  fill="#13284A"
                />
              </g>
            </g>
            <rect
              x="86.168"
              width="12.925"
              height="21.542"
              rx="1"
              fill="#FFF"
              fill-opacity=".598"
              mask="url(#b)"
            />
            <rect
              x="38.088"
              y="8.789"
              width="13.184"
              height="21.974"
              rx="1"
              fill="#FFF"
              fill-opacity=".598"
            />
            <rect
              x="64.456"
              y="21.974"
              width="13.184"
              height="21.974"
              rx="1"
              fill="#FFF"
              fill-opacity=".598"
            />
          </g>
        </g> -->

        <!-- <g id="figure3">
          <rect width="114" height="114" rx="25" fill="#67748C" />
          <circle cx="57" cy="57" r="48" fill="#2B3F60" />
          <g transform="translate(24.673 31.5)">
            <ellipse
              cx="32.513"
              cy="41.38"
              rx="28.572"
              ry="9.852"
              fill="#1A273D"
            />
            <g transform="translate(9.133 9.133)">
              <path
                d="M2.69 16.484l9.853 3.94v15.764l-8.349-1.82L.72 28.305l1.97-3.94zM44.1 11.756l-9.853 5.087v20.345l7.882-5.086 3.941-5.086-1.97-5.087z"
                fill="#67748C"
              />
              <path d="M12.543 20.425h21.675v17.734H12.543z" fill="#8B9CBC" />
              <path
                d="M44.218 14.744H2.038v9.628l-.145.22c-.678 1.024-1.02 2.08-1.02 3.152 0 5.738 9.898 10.688 22.247 10.688s22.248-4.95 22.248-10.688c0-1.064-.338-2.114-1.007-3.132l-.143-.218v-9.65z"
                stroke="#FFF"
                stroke-width="1.744"
              />
              <use fill="#8B9CBC" xlink:href="#l" />
              <path
                d="M23.12 22.248c12.349 0 22.248-4.95 22.248-10.688S35.469.872 23.12.872C10.771.872.872 5.822.872 11.56s9.899 10.688 22.248 10.688z"
                stroke="#FFF"
                stroke-width="1.744"
              />
              <rect
                x="10.404"
                y="16.184"
                width="3.468"
                height="23.12"
                rx="1.734"
                fill="#FFF"
              />
              <rect
                x="32.368"
                y="16.184"
                width="3.468"
                height="23.12"
                rx="1.734"
                fill="#FFF"
              />
            </g>
            <path
              transform="rotate(70 46.945 22.245)"
              d="M45.521 12.97a42572093.6 42572093.6 0 0 0 3.703 1.348l-3.003 16.484a.874.874 0 0 1-.86.717.695.695 0 0 1-.694-.728l.854-17.82z"
              fill="url(#k)"
            />
            <path
              transform="scale(-1 1) rotate(70 0 -2.588)"
              d="M15.964 12.97l1.851.674 1.852.674-3.003 16.484a.874.874 0 0 1-.86.717.695.695 0 0 1-.694-.728l.854-17.82z"
              fill="url(#h)"
            />
            <path
              d="M61.903 1.76a2.24 2.24 0 0 1-.175 3.326l-23.6 19.098a.81.81 0 0 1-1.082-.057.73.73 0 0 1 0-1.031L58.382 1.76a2.49 2.49 0 0 1 3.52 0zM1.584 1.76a2.24 2.24 0 0 0 .175 3.326l23.6 19.098a.81.81 0 0 0 1.082-.057.73.73 0 0 0 0-1.031L5.105 1.76a2.49 2.49 0 0 0-3.52 0z"
              fill="#FFF"
            />
          </g>
          <rect
            width="114"
            height="114"
            rx="25"
            fill="#131D2F"
            fill-opacity=".402"
          />
        </g> -->
      </g>
    </svg>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      // $(function () {
      //   var figure1 = document.getElementById("figure1");
      //   var figure2 = document.getElementById("figure2");
      //   var figure3 = document.getElementById("figure3");

      //   var startPoint1 = 80;
      //   var startPoint2 = 70;
      //   var startPoint3 = 90;

      //   var delay1 = 1000;
      //   var delay2 = 1500;
      //   var delay3 = 1700;

      //   var circle = document.getElementById("circle");
      //   var pathLength = Math.floor(circle.getTotalLength());

      //   var move = function (percent, figure) {
      //     innerPercent = (percent * pathLength) / 100;

      //     var figureWidth = figure.getBBox().width;
      //     var figureHeight = figure.getBBox().height;

      //     pt = circle.getPointAtLength(innerPercent);
      //     pt.x = pt.x - figureWidth / 2;
      //     pt.y = pt.y - figureHeight / 2;

      //     $(figure).css({
      //       transform: "translate3d(" + pt.x + "px," + pt.y + "px, 0)",
      //     });
      //   };

      //   setTimeout(function () {
      //     var interval1 = setInterval(function () {
      //       if (startPoint1 >= 0) {
      //         move(startPoint1, figure1);
      //         startPoint1--;
      //       } else {
      //         clearInterval(interval1);
      //       }
      //     }, 16);
      //   }, delay1);

      //   setTimeout(function () {
      //     var interval2 = setInterval(function () {
      //       if (startPoint2 >= 25) {
      //         move(startPoint2, figure2);
      //         startPoint2--;
      //       } else {
      //         clearInterval(interval2);
      //       }
      //     }, 16);
      //   }, delay2);

      //   setTimeout(function () {
      //     var interval3 = setInterval(function () {
      //       if (startPoint3 >= 50) {
      //         move(startPoint3, figure3);
      //         startPoint3--;
      //       } else {
      //         clearInterval(interval3);
      //       }
      //     }, 16);
      //   }, delay3);
      // });
      gsap.registerPlugin(MotionPathPlugin);
      console.log("hi");

      // figure1 從 path 80% 開始，延遲 1 秒
      gsap.to("#figure1", {
        duration: 5,
        // delay: 1,
        ease: "none",
        // motionPath: "#circle",
        motionPath: {
          path: "#circle",
          align: "#circle",
          autoRotate: false,
          start: 0, // 80%
          end: 1, // 跑到 0%
          alignOrigin: [0.5, 0.5],
        },
      });

      // figure2 從 path 70% 開始，延遲 1.5 秒
      // gsap.to("#figure2", {
      //   duration: 3,
      //   delay: 1.5,
      //   ease: "none",
      //   motionPath: {
      //     path: "#circle",
      //     align: "#circle",
      //     autoRotate: false,
      //     start: 0.7,
      //     end: 0,
      //     alignOrigin: [0.5, 0.5],
      //   },
      // });

      // figure3 從 path 90% 開始，延遲 1.7 秒
      // gsap.to("#figure3", {
      //   duration: 3,
      //   delay: 1.7,
      //   ease: "none",
      //   motionPath: {
      //     path: "#circle",
      //     align: "#circle",
      //     autoRotate: false,
      //     start: 0.9,
      //     end: 0,
      //     alignOrigin: [0.5, 0.5],
      //   },
      // });
    </script>
  </body>
</html>
