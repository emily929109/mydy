<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gsap circle RWD</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/MotionPathPlugin.min.js"></script>
    <style>
      body {
        margin: 0;
        padding: 0;
      }

      .wrapper {
        position: relative;
        width: 100%;
        max-width: 900px;
        margin: 0 auto;
      }

      .path-wrapper {
        padding: 27%;
      }

      #dot1,
      #dot2,
      #dot3,
      #dot4 {
        width: 25%;
        aspect-ratio: 1 / 1;
        position: absolute;
      }

      /* æ‰‹æ©Ÿç‰ˆ */
      /* .img-wrapper {
        position: relative;
      } */

      #dot1 .dot {
        position: absolute;
        left: 0;
        bottom: 0;
        transform: translate(-50%, 50%);
      }

      #dot2 .dot {
        position: absolute;
        left: 0;
        top: 0;
        transform: translate(-50%, -50%);
      }

      #dot3 .dot {
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(50%, -50%);
      }

      #dot4 .dot {
        position: absolute;
        right: 0;
        bottom: 0;
        transform: translate(50%, 50%);
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <!-- path é–‹å§‹-->
      <div class="path-wrapper">
        <svg
          viewBox="0 0 300 300"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          style="width: 100%; max-width: 450px; height: auto; margin: 0 auto"
        >
          <path
            d="M150 1.5
       A148.5 148.5 0 1 1 149.999 298.5
       A148.5 148.5 0 1 1 150 1.5"
            stroke="#E15050"
            stroke-width="3"
            fill="none"
            id="path"
          />
        </svg>
      </div>

      <!-- path çµæŸ -->

      <!---------------- dot1 é–‹å§‹------------------>
      <div id="dot1">
        <div class="img-wrapper">
          <svg class="dot" width="20" height="20">
            <circle cx="10" cy="10" r="10" fill="#E15050" />
          </svg>

          <img
            src="img/Profession.png"
            style="
              width: 100%;
              max-width: 200px;
              position: absolute;
              left: 0;
              bottom: -8%;
            "
          />
        </div>
      </div>

      <!---------------- dot1 çµæŸ------------------>
      <!---------------- dot2 é–‹å§‹------------------>
      <div id="dot2">
        <div class="img-wrapper">
          <svg class="dot" width="20" height="20">
            <circle cx="10" cy="10" r="10" fill="#E15050" />
          </svg>
          <div class="dot-img">
            <img
              src="img/Efficiency.png"
              style="
                width: 100%;
                max-width: 200px;
                position: absolute;
                left: 0;
                top: -2%;
              "
            />
          </div>
        </div>
      </div>

      <!---------------- dot2 çµæŸ------------------>
      <!---------------- dot3 é–‹å§‹------------------>
      <div id="dot3">
        <div class="img-wrapper">
          <svg class="dot" width="20" height="20">
            <circle cx="10" cy="10" r="10" fill="#E15050" />
          </svg>
          <div class="dot-img">
            <img
              src="img/Service.png"
              style="
                width: 100%;
                max-width: 200px;
                position: absolute;
                right: 0;
                top: -2%;
              "
            />
          </div>
        </div>
      </div>

      <!---------------- dot3 çµæŸ------------------>
      <!---------------- dot4 é–‹å§‹------------------>
      <div id="dot4">
        <div class="img-wrapper">
          <svg class="dot" width="20" height="20">
            <circle cx="10" cy="10" r="10" fill="#E15050" />
          </svg>
          <div class="dot-img">
            <img
              src="img/Integrity.png"
              style="
                width: 100%;
                max-width: 200px;
                position: absolute;
                right: 0;
                bottom: -8%;
              "
            />
          </div>
        </div>
      </div>

      <!---------------- dot4 çµæŸ------------------>
    </div>
    <div>hi there</div>

    <script>
      gsap.registerPlugin(MotionPathPlugin);

      let t1 = gsap.to("#dot1", {
        duration: 0.996, // ğŸ”¥ ç§»å‹• + æ—‹è½‰ åŒä¸€æ®µå‹•ç•« â†’ è‡ªç„¶åŒæ­¥
        ease: "none",
        motionPath: {
          path: "#path",
          align: "#path",
          start: 0,
          end: 0.166666,
          alignOrigin: [0, 1],
        },
        onUpdate() {
          // åŒä¸€å€‹ tween çš„ progress â†’ 0~1 æ™‚é–“è»¸å®Œå…¨ä¸€è‡´
          let p = t1.progress();

          // -60Â° â†’ 0Â° çš„ç·šæ€§æ˜ å°„
          let rotation = gsap.utils.mapRange(0, 1, -60, 0, p);

          gsap.set("#dot1", { rotation });
        },
      });

      let t2 = gsap.to("#dot2", {
        duration: 1.998, // ğŸ”¥ ç§»å‹• + æ—‹è½‰ åŒä¸€æ®µå‹•ç•« â†’ è‡ªç„¶åŒæ­¥
        ease: "none",
        motionPath: {
          path: "#path",
          align: "#path",
          start: 0,
          end: 0.333333,
          alignOrigin: [0, 0],
        },
        onUpdate() {
          // åŒä¸€å€‹ tween çš„ progress â†’ 0~1 æ™‚é–“è»¸å®Œå…¨ä¸€è‡´
          let p = t2.progress();

          // -60Â° â†’ 0Â° çš„ç·šæ€§æ˜ å°„
          let rotation = gsap.utils.mapRange(0, 1, -120, 0, p);

          gsap.set("#dot2", { rotation });
        },
      });

      let t3 = gsap.to("#dot3", {
        duration: 3.96, // ğŸ”¥ ç§»å‹• + æ—‹è½‰ åŒä¸€æ®µå‹•ç•« â†’ è‡ªç„¶åŒæ­¥
        ease: "none",
        motionPath: {
          path: "#path",
          align: "#path",
          start: 0,
          end: 0.66666,
          alignOrigin: [1, 0],
        },
        onUpdate() {
          // åŒä¸€å€‹ tween çš„ progress â†’ 0~1 æ™‚é–“è»¸å®Œå…¨ä¸€è‡´
          let p = t3.progress();

          // -60Â° â†’ 0Â° çš„ç·šæ€§æ˜ å°„
          let rotation = gsap.utils.mapRange(0, 1, -240, 0, p);

          gsap.set("#dot3", { rotation });
        },
      });

      let t4 = gsap.to("#dot4", {
        duration: 4.998, // ğŸ”¥ ç§»å‹• + æ—‹è½‰ åŒä¸€æ®µå‹•ç•« â†’ è‡ªç„¶åŒæ­¥
        ease: "none",
        motionPath: {
          path: "#path",
          align: "#path",
          start: 0,
          end: 0.83333,
          alignOrigin: [1, 1],
        },
        onUpdate() {
          // åŒä¸€å€‹ tween çš„ progress â†’ 0~1 æ™‚é–“è»¸å®Œå…¨ä¸€è‡´
          let p = t4.progress();

          // -60Â° â†’ 0Â° çš„ç·šæ€§æ˜ å°„
          let rotation = gsap.utils.mapRange(0, 1, -300, 0, p);

          gsap.set("#dot4", { rotation });
        },
      });

      //       // 1. å®šç¾©æ•¸æ“šé…ç½® (å·®ç•°åŒ–çš„éƒ¨åˆ†æ”¾åœ¨é€™è£¡)
      // const dotsConfig = [
      //     { id: "#dot1", duration: 0.996, end: 0.166666, alignOrigin: [0, 1], startRot: -60 },
      //     { id: "#dot2", duration: 1.998, end: 0.333333, alignOrigin: [0, 0], startRot: -120 },
      //     { id: "#dot3", duration: 3.96,  end: 0.66666,  alignOrigin: [1, 0], startRot: -240 },
      //     { id: "#dot4", duration: 4.998, end: 0.83333,  alignOrigin: [1, 1], startRot: -300 },
      // ];

      // // 2. å»ºç«‹ä¸»æ™‚é–“è»¸ (åªéœ€è¨­å®šä¸€æ¬¡ ScrollTrigger)
      // const tl = gsap.timeline({
      //     scrollTrigger: {
      //         trigger: ".core-wrapper",
      //         start: "top 80%",
      //         toggleActions: "play none none none"
      //     }
      // });

      // // 3. è¿´åœˆç”Ÿæˆå‹•ç•«
      // dotsConfig.forEach(dot => {
      //     // å„ªåŒ–é—œéµï¼šç›´æ¥è¨­å®šåˆå§‹è§’åº¦ï¼Œä¸éœ€è¦åœ¨ onUpdate è£¡è¨ˆç®—
      //     gsap.set(dot.id, { rotation: dot.startRot });

      //     tl.to(dot.id, {
      //         duration: dot.duration,
      //         ease: "none",
      //         rotation: 0, // ğŸ”¥ ç›´æ¥å‘Šè¨´ GSAP å¾åˆå§‹è§’åº¦è½‰å› 0 åº¦ï¼Œå–ä»£ onUpdate
      //         motionPath: {
      //             path: "#path",
      //             align: "#path",
      //             start: 0,
      //             end: dot.end,
      //             alignOrigin: dot.alignOrigin,
      //         }
      //     }, 0); // ğŸ”¥ é‡é»ï¼šæœ€å¾Œé€™å€‹ '0' ä»£è¡¨æ‰€æœ‰å‹•ç•«åœ¨æ™‚é–“è»¸çš„ã€Œç¬¬ 0 ç§’ã€åŒæ™‚é–‹å§‹
      // });
    </script>
  </body>
</html>
