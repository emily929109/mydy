<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      .swiper {
        height: 500px;
      }

      .Img {
        height: 100%;
      }

      img {
        width: 100%;
        object-fit: cover;
        height: 100%;
      }

      .newsBox {
        position: relative;
        display: flex;
        flex-wrap: wrap;
      }

      .leftBox,
      .rightBox {
        width: 50%;
      }

      .swiper-slide {
        padding: 10px;
      }
    </style>
  </head>
  <body>
    <!-- leftBox -->
    <div class="leftBox">
      <!-- Slider main container -->
      <div class="swiper left-swiper">
        <!-- Additional required wrapper -->
        <div class="swiper-wrapper">
          <!-- item -->
          <div class="swiper-slide">
            <div class="Img">
              <img src="img/random-pic-1.jpg" alt="Random photo" />
            </div>
          </div>
          <!-- end of item -->
          <!-- item -->
          <div class="swiper-slide">
            <div class="Img">
              <img src="img/random-pic-2.jpg" alt="Random photo" />
            </div>
          </div>
          <!-- end of item -->
          <!-- item -->
          <div class="swiper-slide">
            <div class="Img">
              <img src="img/random-pic-3.jpg" alt="Random photo" />
            </div>
          </div>
          <!-- end of item -->
        </div>

        <!-- If we need pagination -->
        <div class="swiper-pagination"></div>
        <!-- If we need navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
    <!-- end of leftBox -->

    <!-- rightBox -->
    <div class="rightBox">
      <!-- Slider main container -->
      <div class="swiper">
        <!-- Additional required wrapper -->
        <div class="swiper-wrapper">
          <!-- item -->
          <div class="swiper-slide">
            <div class="Img">
              <img src="img/random-pic-2.jpg" alt="Random photo" />
            </div>
          </div>
          <!-- end of item -->
          <!-- item -->
          <div class="swiper-slide">
            <div class="Img">
              <img src="img/random-pic-3.jpg" alt="Random photo" />
            </div>
          </div>
          <!-- end of item -->
          <!-- item -->
          <div class="swiper-slide">
            <div class="Img">
              <img src="img/random-pic-1.jpg" alt="Random photo" />
            </div>
          </div>
          <!-- end of item -->
        </div>

        <!-- If we need pagination -->
        <div class="swiper-pagination"></div>
        <!-- If we need navigation buttons -->
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
      </div>
    </div>
    <!-- end of rightBox -->
  </body>
  <script>
    // 建立主圖 Swiper
    const imgSlide = new Swiper("#product-image-slides", {
      loop: false,
      centeredSlides: true,
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      slidesPerView: 1,
      spaceBetween: 10,
      navigation: {
        nextEl: "#product-image-nav .swiper-next",
        prevEl: "#product-image-nav .swiper-prev",
      },
    });

    // 建立縮圖 Swiper
    const galleryThumbs = new Swiper("#product-image-nav", {
      spaceBetween: 10,
      slidesPerView: 5,
      touchRatio: 0.2,
      loop: false,
    });

    // 雙向綁定控制
    imgSlide.controller.control = galleryThumbs;

    // 點擊縮圖時切換主圖
    const objThumbs = document.querySelectorAll(
      "#product-image-nav .swiper-wrapper .swiper-slide"
    );
    const objTop = document.querySelectorAll(
      "#product-image-slides .swiper-wrapper .swiper-slide"
    );

    objThumbs.forEach((thumb) => {
      thumb.addEventListener("click", (e) => {
        const currentId = thumb.getAttribute("data-image-index");

        objTop.forEach((topSlide, i) => {
          const topId = topSlide.getAttribute("data-image-index");

          if (topId === currentId) {
            e.preventDefault();
            imgSlide.slideTo(i, 1000, false); // 切換到主圖對應頁面
          }
        });
      });
    });
  </script>
</html>
